<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#e6dfcf" />
  <title>Space Trader</title>
  <meta name="description" content="Showcase of mechanical/retro console components built with semantic HTML and CSS only." />
  <link rel="icon" href="favicon.ico" />
  <style>
    :root {
      --panel-bg: #e6dfcf;
      --panel-rim: #8f897a;
      --panel-shadow: rgba(0,0,0,0.35);
      --panel-pad: 20px;   /* base padding inside panel */
      --panel-pad-safe: 36px; /* doubled so content never touches rivets */

      --keycap: #2b2b2b;
      --keycap-2: #1f1f1f;
      --keycap-3: #3a3a3a;
      --key-text: #efefef;

      --amber: #ffbf00;
      --amber-dim: #e5aa00;
      --amber-deep: #7a4d00;

      --ink: #1a1a1a; /* black ink labels on panel */
      
      color-scheme: light;
    }

    * { box-sizing: border-box; }
    
    html {
      background-color: var(--panel-bg);
    }
    
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Intel One Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
      background: linear-gradient(180deg, #cfc7b6, #d6cfbe 40%, #cfc7b6);
      color: #111;
      /* space for sticky title bar + top safe area */
      padding-top: calc(64px + env(safe-area-inset-top));
      /* Extend under system UI (notches/gesture areas) */
      padding-bottom: env(safe-area-inset-bottom);
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
    }

    /* Sticky title bar */
    .title-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 64px;
      background: var(--panel-bg);
      border-bottom: 2px solid var(--panel-rim);
      box-shadow: 0 4px 12px var(--panel-shadow);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      z-index: 1000;
      /* Extend to cover safe area at top */
      padding-top: env(safe-area-inset-top);
      padding-left: calc(24px + env(safe-area-inset-left));
      padding-right: calc(24px + env(safe-area-inset-right));
      /* Adjust height to include safe area */
      height: calc(64px + env(safe-area-inset-top));
    }
    .title-bar h1 {
      font-size: 22px;
      margin: 0;
      color: var(--ink);
      letter-spacing: 0.02em;
    }
    .title-bar .toggle {
      flex-shrink: 0;
    }

    .wrap { max-width: 1100px; margin: 24px auto; padding: 0 16px; display: grid; gap: 16px; }
    h1, h2 { margin: 0; }
    h1 { font-size: 22px; }
    h2 { font-size: 16px; color: #333; }

    /* Inset metal panel: surface flush, border seam looks cut-in */
    .panel {
      position: relative;
      background: var(--panel-bg);
      border-radius: 14px;
      border: 2px solid var(--panel-rim);
      padding: var(--panel-pad-safe);
      box-shadow:
        inset 0 0 0 2px rgba(255,255,255,0.2),            /* enamel sheen */
        inset 0 12px 20px rgba(0,0,0,0.10),               /* shallow emboss */
        0 6px 18px var(--panel-shadow);                   /* cast shadow */
    }
    /* Inset border seam into the flush surface */
    .panel::before {
      content: "";
      position: absolute; inset: 6px;
      border-radius: 10px;
      box-shadow: inset 0 0 0 2px var(--panel-rim), inset 0 8px 14px rgba(0,0,0,0.12);
      pointer-events: none;
    }
    /* Flathead screws in four corners; content padding ensures no overlap */
    .panel .rivet {
      position: absolute; width: 16px; height: 16px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #9aa7b4, #647482);
      border: 1px solid #3c4b57;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.25), 0 2px 3px rgba(0,0,0,0.35);
    }
    /* Flathead slot (narrow rectangle) */
    .panel .rivet::after {
      content: "";
      position: absolute;
      left: 50%; top: 50%;
      width: 10px; height: 2px;
      background: linear-gradient(90deg, rgba(0,0,0,0.3), rgba(0,0,0,0.8), rgba(0,0,0,0.3));
      transform: translate(-50%, -50%);
      box-shadow: inset 0 1px 0 rgba(0,0,0,0.6);
    }
    .panel .rivet.tl { top: 10px; left: 10px; }
    .panel .rivet.tl::after { transform: translate(-50%, -50%) rotate(-45deg); }
    .panel .rivet.tr { top: 10px; right: 10px; }
    .panel .rivet.tr::after { transform: translate(-50%, -50%) rotate(45deg); }
    .panel .rivet.bl { bottom: 10px; left: 10px; }
    .panel .rivet.bl::after { transform: translate(-50%, -50%) rotate(45deg); }
    .panel .rivet.br { bottom: 10px; right: 10px; }
    .panel .rivet.br::after { transform: translate(-50%, -50%) rotate(-45deg); }

    .section { display: grid; gap: 10px; }
    .row { display: grid; grid-template-columns: repeat(2, minmax(220px, 1fr)); gap: 14px; align-items: start; }
    .row > * { min-width: 0; }
    @media (max-width: 720px){ .row { grid-template-columns: 1fr; } }

    .label { color: var(--ink); font-weight: 700; letter-spacing: .02em; margin-bottom: 8px; }

    /* Charcoal button with recessed hole on press */
    .btn {
      display: inline-block;
      background: linear-gradient(180deg, var(--keycap-3), var(--keycap-2));
      color: var(--key-text);
      border: 2px solid #000;
      border-bottom-color: #000;
      border-radius: 10px;
      padding: 10px 14px;
      font-weight: 800; letter-spacing: .02em; text-align: center;
      box-shadow: 0 3px 0 #000, 0 8px 16px rgba(0,0,0,.35);
      cursor: pointer; user-select: none;
      position: relative;
    }
    /* Recessed hole appears under key when pressed */
    .btn::after {
      content: "";
      position: absolute; inset: 6px; border-radius: 8px;
      background: linear-gradient(180deg, #0b0b0b, #151515);
      box-shadow: inset 0 6px 10px rgba(0,0,0,.6);
      opacity: 0; transition: opacity .06s ease;
      z-index: -1; /* sit beneath key */
    }
    .btn:active { transform: translateY(2px); box-shadow: 0 1px 0 #000, 0 4px 10px rgba(0,0,0,.25); }
    .btn:active::after { opacity: 1; }

    /* Toggle (semantic checkbox) */
    .toggle { display: inline-flex; gap: 8px; align-items: center; color: var(--ink); font-weight: 600; }
    .toggle input { position: absolute; inline-size: 1px; block-size: 1px; overflow: hidden; clip-path: inset(50%); white-space: nowrap; border: 0; padding: 0; }
    .toggle .track {
      width: 64px; height: 28px; border-radius: 8px;
      background: #d1cab8; border: 2px solid var(--panel-rim);
      box-shadow: inset 0 0 10px rgba(0,0,0,.15);
      position: relative;
    }
    .toggle .thumb {
      position: absolute; top: 50%; left: 2px; width: 26px; height: 22px; border-radius: 6px;
      transform: translateY(-50%);
      background: linear-gradient(180deg,#3a3a3a, #232323); border: 2px solid #111; box-shadow: 0 2px 0 #000;
      transition: left .2s ease;
    }
    .toggle input:checked + .track .thumb { left: 34px; }

    /* Rotary dial knob (CSS variables) - interactive via hidden slider */
    .dial {
      --size: 120px;                  /* knob outer size */
      --start-angle: -120deg;         /* start of arc */
      --end-angle: 120deg;            /* end of arc */
      --steps: 12;                    /* number of discrete steps */
      --value: 6;                     /* current step index (0..steps) */
      --step-angle: calc((var(--end-angle) - var(--start-angle)) / var(--steps));
      width: var(--size); height: var(--size); position: relative; cursor: pointer;
      margin: 16px 16px 40px 16px;  /* extra space for graduations and label below */
      user-select: none;
      -webkit-user-select: none;
      touch-action: none;
    }
    /* Hidden slider drives the dial */
    .dial input[type="range"] {
      position: absolute; inset: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer; z-index: 10;
    }
    /* Step marks ring (around knob) - only within start/end range */
    .dial .marks {
      position: absolute; inset: 0; border-radius: 50%;
      background:
        /* draw ticks only within active range */
        repeating-conic-gradient(from var(--start-angle),
          #0000 0 calc(var(--step-angle) - 1deg),
          rgba(0,0,0,.6) calc(var(--step-angle) - 1deg) var(--step-angle)
        );
      /* Mask to show only start-angle to end-angle arc */
      mask:
        conic-gradient(from var(--start-angle),
          #000 0 calc(var(--end-angle) - var(--start-angle)),
          #0000 calc(var(--end-angle) - var(--start-angle)) 360deg
        ),
        radial-gradient(circle at 50% 50%, #0000 calc(50% - 6px), #000 0);
      mask-composite: intersect;
      -webkit-mask:
        conic-gradient(from var(--start-angle),
          #000 0 calc(var(--end-angle) - var(--start-angle)),
          #0000 calc(var(--end-angle) - var(--start-angle)) 360deg
        ),
        radial-gradient(circle at 50% 50%, #0000 calc(50% - 6px), #000 0);
      -webkit-mask-composite: source-in;
      pointer-events: none;
    }
    /* Static shadow layer (doesn't rotate with knob) */
    .dial .shadow {
      position: absolute; inset: 12px; border-radius: 50%;
      box-shadow: 0 8px 16px rgba(0,0,0,.35);
      pointer-events: none;
      z-index: 1;
    }
    /* Knob face with grooves (rotates) */
    .dial .knob {
      position: absolute; inset: 12px; border-radius: 50%;
      background:
        repeating-conic-gradient(from 0deg, rgba(255,255,255,0.06) 0 10deg, rgba(0,0,0,0.05) 10deg 20deg),
        radial-gradient(circle at 50% 45%, #4b4b4b, #222 65%);
      border: 2px solid #101010; box-shadow: inset 0 2px 6px rgba(255,255,255,.06);
      pointer-events: none;
      transition: transform .1s ease;
      z-index: 2;
    }
    /* Notch */
    .dial .knob::after {
      content: ""; position: absolute; left: 50%; top: 8px; width: 4px; height: 14px; border-radius: 2px;
      background: #fff; transform: translateX(-50%);
      pointer-events: none;
    }
    /* Compute angle from value within [start,end] and rotate entire knob */
    .dial { --angle: calc(var(--start-angle) + var(--value) * var(--step-angle)); }
    .dial .knob { transform: rotate(var(--angle)); }
    .dial .cap { position: absolute; inset: 34px; border-radius: 50%; background: radial-gradient(circle at 50% 45%, #333, #111); box-shadow: inset 0 2px 6px rgba(0,0,0,.6); pointer-events: none; z-index: 3; }
    .dial .legend { position: absolute; left: 0; right: 0; top: 100%; margin-top: 8px; text-align: center; color: var(--ink); font-size: 12px; font-weight: 700; pointer-events: none; }

    /* Amber terminal screen */
    .crt {
      background: radial-gradient(120% 180% at 50% 8%, rgba(255,255,255,0.08), transparent 40%),
                  linear-gradient(180deg, #2a1600, #211100 50%, #140a00),
                  linear-gradient(180deg, var(--amber-deep), #1b0f00);
      border: 2px solid #3a2b15; border-radius: 10px; padding: 12px;
      color: var(--amber);
      text-shadow: 0 0 6px rgba(255, 191, 0, 0.65);
      box-shadow: inset 0 0 35px rgba(255,191,0,0.1), 0 3px 12px var(--panel-shadow);
      font-family: "Intel One Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-variant-numeric: lining-nums;
      letter-spacing: .02em;
      overflow-x: auto;
      min-width: 0;
    }
    .crt pre, .crt code { margin: 0; white-space: pre-wrap; }

    /* Cockpit viewing window */
    .window {
      position: relative; 
      padding: 20px;  /* outer frame padding */
      background: linear-gradient(180deg, #5a5a52, #3e3e38);  /* metal frame */
      border-radius: 16px;
      border: 2px solid #2a2a26;
      box-shadow: 
        inset 0 1px 0 rgba(255,255,255,0.15),  /* frame highlight */
        inset 0 0 20px rgba(0,0,0,0.3),        /* frame depth */
        0 4px 0 #2a2a26,                        /* depth step */
        0 8px 16px rgba(0,0,0,0.3);            /* cast shadow */
    }
    /* Viewport (actual viewing area) */
    .window .viewport {
      position: relative; height: 220px; border-radius: 8px; overflow: hidden;
      background: linear-gradient(180deg, #222, #111);
      box-shadow: 
        inset 0 0 0 3px #1a1a1a,               /* inner bezel */
        inset 0 0 30px rgba(0,0,0,.8);         /* recessed depth */
    }
    .window .glass {
      position: absolute; inset: 0; border-radius: 10px; pointer-events: none;
      background:
        radial-gradient(100% 60% at 50% 0%, rgba(255,255,255,.18), transparent 40%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      mix-blend-mode: screen;
    }
    .window .planet {
      position: absolute; left: 20%; top: 15%; width: 140px; height: 140px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #4488cc, #1155aa 60%, #001a44);
      box-shadow: 0 0 40px rgba(68,136,204,.35);
      animation: planet 40s linear infinite;
    }
    .window .moon {
      position: absolute; left: 60%; top: 18%; width: 40px; height: 40px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #bbb, #888 60%, #666);
      box-shadow: 0 0 20px rgba(255,255,255,.2);
      animation: moon 24s linear infinite reverse;
    }
    @keyframes planet { from { transform: translateX(0); } to { transform: translateX(40%); } }
    @keyframes moon { from { transform: translateX(0); } to { transform: translateX(-40%); } }

    /* Slider (range) with stamped groove */
    .slider-wrap { color: var(--ink); font-weight: 700; }
    .slider-labels { display: flex; justify-content: space-between; font-size: 12px; margin-top: 6px; color: var(--ink); }
    input[type="range"].slider {
      -webkit-appearance: none; appearance: none; width: 100%; height: 28px; background: transparent; margin: 0; cursor: pointer;
    }
    /* track as stamped groove */
    .slider::-webkit-slider-runnable-track {
      height: 8px; border-radius: 6px; border: 1px solid #585247;
      background: linear-gradient(180deg, #1a1a1a, #0e0e0e);
      box-shadow: inset 0 4px 8px rgba(0,0,0,.6);
    }
    .slider::-moz-range-track {
      height: 8px; border-radius: 6px; border: 1px solid #585247;
      background: linear-gradient(180deg, #1a1a1a, #0e0e0e);
      box-shadow: inset 0 4px 8px rgba(0,0,0,.6);
    }
    /* thumb as charcoal puck */
    .slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; margin-top: -10px; width: 28px; height: 28px; border-radius: 50%; background: linear-gradient(180deg,#3a3a3a,#252525); border: 2px solid #111; box-shadow: 0 2px 0 #000; }
    .slider::-moz-range-thumb { width: 28px; height: 28px; border-radius: 50%; background: linear-gradient(180deg,#3a3a3a,#252525); border: 2px solid #111; box-shadow: 0 2px 0 #000; }

    /* Fuel meter (semantic progress, styled as analog gauge) */
    .gauge {
      --size: 220px;             /* overall diameter of the circle (we show the top half) */
      --thickness: 18px;         /* ring thickness of the arc */
      --value: 35;               /* 0..100 (maps left->right across the top semicircle) */
      --start: 180deg;           /* start at left */
      --sweep: 180deg;           /* show top semicircle from left (180) to right (360) */
      --end: calc(var(--start) + var(--sweep));
      /* Custom zone boundaries (0-100%) and colors */
      --zone1-start: 0;          /* first zone start % */
      --zone1-end: 20;           /* first zone end % */
      --zone1-color: #8a2020;    /* first zone color (default red) */
      --zone2-start: 20;         /* second zone start % */
      --zone2-end: 60;           /* second zone end % */
      --zone2-color: #c8c8c0;    /* second zone color (default ivory) */
      --zone3-start: 60;         /* third zone start % */
      --zone3-end: 100;          /* third zone end % */
      --zone3-color: #5a8a5a;    /* third zone color (default green) */
      position: relative;
      width: calc(var(--size) + 32px);  /* add padding around component */
      padding: 16px 16px 12px 16px;     /* reduced bottom padding for label space */
      margin: 6px auto 0;
      background: #e8e6dc;               /* brighter desaturated white backing */
      border-radius: 14px 14px 10px 10px;
      border: 2px solid #8a8578;
      box-shadow: 
        inset 0 1px 0 rgba(255,255,255,0.3),  /* top highlight */
        0 4px 0 #7a7568,                       /* depth step */
        0 8px 16px rgba(0,0,0,0.25);          /* cast shadow */
    }
    /* Hide semantic progress bar but keep it for accessibility */
    .gauge progress {
      position: absolute; width: 1px; height: 1px; overflow: hidden; clip-path: inset(50%); white-space: nowrap; border: 0; padding: 0;
    }
    /* Face/dial container (holds all gauge elements) */
    .gauge .face {
      position: relative;
      width: var(--size);
      height: calc(var(--size)/2 + 16px);
      margin: 0 auto 14px;  /* more space below for label */
    }
    /* Label below the needle pivot */
    .gauge .gauge-label {
      text-align: center;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: .06em;
      text-transform: uppercase;
      color: var(--ink);
      margin: 0 12px;
      opacity: 0.75;
    }
    /* Glass hemisphere with rim */
    .gauge .glass {
      position: absolute; inset: 0; border-radius: 50% 50% 0 0;
      background: radial-gradient(100% 60% at 50% 0%, rgba(255,255,255,.12), transparent 50%);
      border: 2px solid #3c3c3c; border-bottom: none;
      box-shadow: inset 0 0 20px rgba(255,255,255,.06);
      pointer-events: none; z-index: 4;
    }
    /* Color zone arc (behind glass) */
    .gauge .arc {
      position: absolute; inset: 0; border-radius: 50% 50% 0 0;
      background:
        /* Paint the TOP semicircle: 0deg (left) -> 180deg (right) with bottom-center origin matching ticks */
        conic-gradient(from -90deg at 50% 100%,
          /* zone 1: start% .. end% */
          var(--zone1-color) calc(var(--sweep) * (var(--zone1-start)/100)) calc(var(--sweep) * (var(--zone1-end)/100)),
          /* zone 2: start% .. end% */
          var(--zone2-color) calc(var(--sweep) * (var(--zone2-start)/100)) calc(var(--sweep) * (var(--zone2-end)/100)),
          /* zone 3: start% .. end% */
          var(--zone3-color) calc(var(--sweep) * (var(--zone3-start)/100)) calc(var(--sweep) * (var(--zone3-end)/100)),
          /* rest transparent */
          #0000 calc(var(--sweep) * (var(--zone3-end)/100)) 360deg
        );
      /* show only the top half of the circle */
      clip-path: polygon(0 100%, 0 0, 100% 0, 100% 100%);
      /* create ring band at needle radius (just outside ticks) */
      mask:
        radial-gradient(circle at 50% 100%,
          #0000 calc(50% - var(--thickness) - 6px),
          #000 calc(50% - var(--thickness) - 6px) calc(50% - var(--thickness) + 6px),
          #0000 calc(50% - var(--thickness) + 6px)
        );
      z-index: 0;
    }
    /* Minor radial tick marks (short) pointing to center */
    .gauge .ticks-minor {
      position: absolute; inset: 0; border-radius: 50% 50% 0 0;
      background:
        repeating-conic-gradient(from -90deg at 50% 100%,
          /* 36 ticks across 180deg -> 5deg per tick cycle */
          #0000 0 4.4deg,
          rgba(0,0,0,.75) 4.4deg 5deg
        );
      clip-path: polygon(0 100%, 0 0, 100% 0, 100% 100%);
      /* place ticks at needle tip radius (outer edge) */
      mask:
        radial-gradient(circle at 50% 100%,
          #0000 calc(50% - 10px),
          #000 calc(50% - 10px) calc(50% - 2px),
          #0000 calc(50% - 2px)
        );
      z-index: 1;
    }
    /* Major radial tick marks (longer, bolder) every 30deg */
    .gauge .ticks-major {
      position: absolute; inset: 0; border-radius: 50% 50% 0 0;
      background:
        repeating-conic-gradient(from -90deg at 50% 100%,
          #0000 0 28.4deg,
          rgba(0,0,0,.95) 28.4deg 30deg
        );
      clip-path: polygon(0 100%, 0 0, 100% 0, 100% 100%);
      /* place ticks at needle tip radius, longer than minor ticks */
      mask:
        radial-gradient(circle at 50% 100%,
          #0000 calc(50% - 16px),
          #000 calc(50% - 16px) calc(50% - 2px),
          #0000 calc(50% - 2px)
        );
      z-index: 2;
    }
    /* Needle pointing from center (0% = left, 100% = right) */
    .gauge .needle {
      position: absolute; left: 50%; bottom: 0; width: 6px; height: calc(var(--size)/2 - var(--thickness) - 6px);
      background: linear-gradient(180deg, #222, #111);
      transform-origin: 50% 100%;
      transform: translateX(-50%) rotate(calc(var(--sweep) * (var(--value)/100) - 90deg));
      box-shadow: 0 0 6px rgba(0,0,0,.5);
      z-index: 3;
    }
    /* Center hub/rivet */
    .gauge .hub {
      position: absolute; left: 50%; bottom: 0; width: 14px; height: 14px;
      transform: translate(-50%, 50%); border-radius: 50%;
      background: radial-gradient(circle at 35% 35%, #444, #1a1a1a);
      border: 2px solid #000;
      box-shadow: inset 0 2px 4px rgba(255,255,255,.08), 0 2px 4px rgba(0,0,0,.4);
      z-index: 5;
    }

    /* Terminal-like input (visual) */
    .term-input {
      background: linear-gradient(180deg, #2a1600, #140a00);
      border: 2px solid #3a2b15; border-radius: 8px; padding: 10px 12px;
      color: var(--amber); text-shadow: 0 0 6px rgba(255,191,0,.5);
      font-family: "Intel One Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      caret-color: var(--amber);
      outline: none;
      box-shadow: inset 0 0 35px rgba(255,191,0,0.08);
    }
    .term-input::placeholder { color: rgba(255,191,0,0.6); }
    /* Optional blinking block cue at right edge (for demo only) */
    .term-input.block-cursor { position: relative; }
    .term-input.block-cursor::after {
      content: ""; position: absolute; right: 12px; top: 50%; width: .6em; height: 1.1em; transform: translateY(-50%);
      background: rgba(255,191,0,0.85); box-shadow: 0 0 8px rgba(255,191,0,.5);
      animation: blink 1s steps(1,end) infinite; opacity: .9;
      pointer-events: none;
    }
    @keyframes blink { 0%, 50% { opacity: .0 } 50.01%, 100% { opacity: .9 } }

    .grid-2 { display: grid; grid-template-columns: repeat(2, minmax(140px, 1fr)); gap: 12px; }
    @media (max-width: 720px){ .grid-2 { grid-template-columns: 1fr; } }

    /* Cargo slot - physical storage slot with optional crate */
    .cargo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      gap: 12px;
    }
    .cargo-slot {
      position: relative;
      aspect-ratio: 1;
      background: linear-gradient(135deg, #0e0e0e, #1a1a1a 50%, #0e0e0e);
      border: 2px solid #3a3a38;
      border-radius: 8px;
      box-shadow: inset 0 0 20px rgba(0,0,0,0.8), inset 0 2px 4px rgba(0,0,0,0.6);
      overflow: hidden;
    }
    /* Empty slot has darker appearance with subtle depth lines */
    .cargo-slot.empty::before {
      content: "";
      position: absolute;
      inset: 8px;
      border: 1px dashed #2a2a28;
      border-radius: 4px;
      opacity: 0.3;
    }
    /* Full slot contains a metallic crate */
    .cargo-slot.full {
      background: linear-gradient(135deg, #4a4a46, #5e5e58 50%, #4a4a46);
      box-shadow: inset 0 0 10px rgba(0,0,0,0.3), 0 2px 4px rgba(0,0,0,0.4);
    }
    /* Crate structure - outer square border */
    .cargo-slot.full::before {
      content: "";
      position: absolute;
      inset: 6px;
      border: 3px solid #2a2a28;
      border-radius: 4px;
      box-shadow: 
        inset 0 1px 0 rgba(255,255,255,0.15),
        inset 0 0 8px rgba(0,0,0,0.4);
    }
    /* Crate X-cross structure from corners */
    .cargo-slot.full::after {
      content: "";
      position: absolute;
      inset: 6px;
      background:
        /* diagonal line top-left to bottom-right */
        linear-gradient(135deg, 
          transparent calc(50% - 2px),
          #2a2a28 calc(50% - 2px),
          #1a1a1a 50%,
          #2a2a28 calc(50% + 2px),
          transparent calc(50% + 2px)
        ),
        /* diagonal line top-right to bottom-left */
        linear-gradient(45deg,
          transparent calc(50% - 2px),
          #2a2a28 calc(50% - 2px),
          #1a1a1a 50%,
          #2a2a28 calc(50% + 2px),
          transparent calc(50% + 2px)
        );
      box-shadow: inset 0 0 8px rgba(0,0,0,0.3);
    }
  </style>
</head>
<body>
  <!-- Sticky Title Bar -->
  <div class="title-bar">
    <h1>Space Trader</h1>
    <label class="toggle">
      <input type="checkbox" id="fullscreen-toggle">
      <span class="track"><span class="thumb"></span></span>
      <span>FULLSCREEN</span>
    </label>
  </div>

  <div class="wrap">
    <!-- Cockpit Window -->
    <section class="panel section">
      <div class="rivet tl"></div><div class="rivet tr"></div><div class="rivet bl"></div><div class="rivet br"></div>

      <h2 class="label">Cockpit Window</h2>
      <div class="window">
        <div class="viewport">
          <div class="planet"></div>
          <div class="moon"></div>
          <div class="glass"></div>
        </div>
      </div>
    </section>

    <!-- Navigation -->
    <section class="panel section">
      <div class="rivet tl"></div><div class="rivet tr"></div><div class="rivet bl"></div><div class="rivet br"></div>

      <h2 class="label">Navigation</h2>
      <div class="row">
        <div>
          <div class="label">Star Chart</div>
          <div class="crt nav-screen">
            <pre>Solar system: Sol
> Mercury
  Venus
  Earth
  Mars
  Jupiter
  Saturn
  Uranus
  Neptune</pre>
          </div>
        </div>
        <div>
          <div class="label">Cursor Control</div>
          <div style="display:flex; justify-content: center;">
            <div class="dial" style="--steps: 8; --start-angle: 0deg; --end-angle: 315deg; --value: 3;">
              <input type="range" min="0" max="8" step="1" value="3" oninput="this.parentElement.style.setProperty('--value', this.value)">
              <div class="marks"></div>
              <div class="shadow"></div>
              <div class="knob"></div>
              <div class="cap"></div>
              <div class="legend">NAVIGATE</div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div>
          <div class="label">Navigation Actions</div>
          <div class="grid-2">
            <button type="button" class="btn">CURRENT LOC</button>
            <button type="button" class="btn">SYSTEM MAP</button>
            <button type="button" class="btn">GALAXY MAP</button>
            <button type="button" class="btn">BEGIN TRAVEL</button>
          </div>
        </div>
        <div>
          <div class="label">Destination</div>
          <div class="crt">
            <pre>Target  : PROXIMA CENTAURI
Distance: 4.24 LY
ETA     : 18 Days</pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Fuel -->
    <section class="panel section">
      <div class="rivet tl"></div><div class="rivet tr"></div><div class="rivet bl"></div><div class="rivet br"></div>

      <h2 class="label">Fuel</h2>
      <div class="row">
        <div>
          <div class="label">Fuel Level</div>
          <div class="gauge" style="--value: 28; --zone1-end: 25; --zone2-start: 25; --zone2-end: 60; --zone3-start: 60;">
            <progress max="100" value="28" aria-label="Fuel level">28%</progress>
            <div class="face">
              <div class="arc"></div>
              <div class="ticks-minor"></div>
              <div class="ticks-major"></div>
              <div class="needle"></div>
              <div class="glass"></div>
              <div class="hub"></div>
            </div>
            <div class="gauge-label">FUEL</div>
          </div>
        </div>
        <div>
          <div class="label">Refueling Station</div>
          <div class="crt">
            <pre>Current credits: 123456₵
Cost to refuel : 234₵</pre>
          </div>
          <button type="button" class="btn" style="margin-top: 12px; width: 100%;">REFUEL</button>
        </div>
      </div>
    </section>

    <!-- Batteries -->
    <section class="panel section">
      <div class="rivet tl"></div><div class="rivet tr"></div><div class="rivet bl"></div><div class="rivet br"></div>

      <h2 class="label">Batteries</h2>
      <div class="row">
        <div>
          <div class="label">Battery A Charge</div>
          <div class="gauge" style="--value: 72; --zone1-end: 20; --zone2-start: 20; --zone2-end: 50; --zone3-start: 50;">
            <progress max="100" value="72" aria-label="Battery A charge level">72%</progress>
            <div class="face">
              <div class="arc"></div>
              <div class="ticks-minor"></div>
              <div class="ticks-major"></div>
              <div class="needle"></div>
              <div class="glass"></div>
              <div class="hub"></div>
            </div>
            <div class="gauge-label">BATTERY A</div>
          </div>
        </div>
        <div>
          <div class="label">Battery B Charge</div>
          <div class="gauge" style="--value: 58; --zone1-end: 20; --zone2-start: 20; --zone2-end: 50; --zone3-start: 50;">
            <progress max="100" value="58" aria-label="Battery B charge level">58%</progress>
            <div class="face">
              <div class="arc"></div>
              <div class="ticks-minor"></div>
              <div class="ticks-major"></div>
              <div class="needle"></div>
              <div class="glass"></div>
              <div class="hub"></div>
            </div>
            <div class="gauge-label">BATTERY B</div>
          </div>
        </div>
      </div>

      <div class="row">
        <div>
          <div class="label">Bus A</div>
          <label class="toggle">
            <input type="checkbox" checked>
            <span class="track"><span class="thumb"></span></span>
            <span>ONLINE</span>
          </label>
        </div>
        <div>
          <div class="label">Bus B</div>
          <label class="toggle">
            <input type="checkbox" checked>
            <span class="track"><span class="thumb"></span></span>
            <span>ONLINE</span>
          </label>
        </div>
      </div>
    </section>

    <!-- Solar Panels -->
    <section class="panel section">
      <div class="rivet tl"></div><div class="rivet tr"></div><div class="rivet bl"></div><div class="rivet br"></div>

      <h2 class="label">Solar Panels</h2>
      <div class="row">
        <div>
          <div class="label">Charge Current</div>
          <div class="gauge" style="--value: 45; --zone1-end: 10; --zone1-color: #c8c8c0; --zone2-start: 10; --zone2-end: 30; --zone2-color: #c8c8c0; --zone3-start: 30; --zone3-color: #5a8a5a;">
            <progress max="100" value="45" aria-label="Solar charge current">45%</progress>
            <div class="face">
              <div class="arc"></div>
              <div class="ticks-minor"></div>
              <div class="ticks-major"></div>
              <div class="needle"></div>
              <div class="glass"></div>
              <div class="hub"></div>
            </div>
            <div class="gauge-label">CHARGE</div>
          </div>
        </div>
        <div>
          <div class="label">Power Draw</div>
          <div class="gauge" style="--value: 38; --zone1-end: 40; --zone1-color: #5a8a5a; --zone2-start: 40; --zone2-end: 70; --zone2-color: #c8c8c0; --zone3-start: 70; --zone3-color: #8a2020;">
            <progress max="100" value="38" aria-label="Ship power consumption">38%</progress>
            <div class="face">
              <div class="arc"></div>
              <div class="ticks-minor"></div>
              <div class="ticks-major"></div>
              <div class="needle"></div>
              <div class="glass"></div>
              <div class="hub"></div>
            </div>
            <div class="gauge-label">DRAW</div>
          </div>
        </div>
      </div>

      <div class="row">
        <div>
          <div class="label">Panel Control</div>
          <div class="slider-wrap">
            <input type="range" min="0" max="2" step="1" class="slider" value="1">
            <div class="slider-labels"><span>RETRACT</span><span>STOP</span><span>EXTEND</span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Trader Comms -->
    <section class="panel section">
      <div class="rivet tl"></div><div class="rivet tr"></div><div class="rivet bl"></div><div class="rivet br"></div>

      <h2 class="label">Trader Comms</h2>
      <div class="row">
        <div>
          <div class="label">Power</div>
          <label class="toggle">
            <input type="checkbox" checked>
            <span class="track"><span class="thumb"></span></span>
            <span>ONLINE</span>
          </label>
        </div>
        <div>
          <div class="label">Mode</div>
          <label class="toggle">
            <input type="checkbox">
            <span class="track"><span class="thumb"></span></span>
            <span>BUYING / SELLING</span>
          </label>
        </div>
      </div>

      <div class="row">
        <div>
          <div class="label">Trade Details</div>
          <div class="crt">
            <pre>SELLING (page 1 of 5)
Trader: Captain Fingers
Ship  : Top Banana
Type  : Food
Crates remaining   : 5
Crates demand      : 2
Price per crate    : 250₵
Profit (loss) delta: 12₵
Current credits    : 123456₵
Standing           : Neutral</pre>
          </div>
        </div>
        <div>
          <div class="label">Trade Actions</div>
          <div class="grid-2">
            <button type="button" class="btn">PREVIOUS PAGE</button>
            <button type="button" class="btn">NEXT PAGE</button>
            <button type="button" class="btn">HAGGLE</button>
            <button type="button" class="btn">TRADE</button>
          </div>
        </div>
      </div>

      <div class="row">
        <div>
          <div class="label">Radio Comms</div>
          <div class="crt">
            <pre>Captain Fingers: "Let's trade!"</pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Cargo Hold -->
    <section class="panel section">
      <div class="rivet tl"></div><div class="rivet tr"></div><div class="rivet bl"></div><div class="rivet br"></div>

      <h2 class="label">Cargo Hold</h2>
      <div class="cargo-grid">
        <div class="cargo-slot full"></div>
        <div class="cargo-slot full"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot full"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot full"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot full"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot full"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot full"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot full"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot empty"></div>
        <div class="cargo-slot empty"></div>
      </div>
    </section>
  </div>

  <script>
    // Fullscreen toggle functionality with Android immersive mode support
    const fullscreenToggle = document.getElementById('fullscreen-toggle');
    
    fullscreenToggle.addEventListener('change', function() {
      if (this.checked) {
        // Request fullscreen with navigation UI hidden (immersive mode)
        const docEl = document.documentElement;
        
        if (docEl.requestFullscreen) {
          docEl.requestFullscreen({ navigationUI: "hide" }).catch(err => {
            console.log('Fullscreen request failed:', err);
          });
        } else if (docEl.webkitRequestFullscreen) {
          docEl.webkitRequestFullscreen();
        } else if (docEl.msRequestFullscreen) {
          docEl.msRequestFullscreen();
        }
      } else {
        // Exit fullscreen
        if (document.exitFullscreen) {
          document.exitFullscreen();
        } else if (document.webkitExitFullscreen) {
          document.webkitExitFullscreen();
        } else if (document.msExitFullscreen) {
          document.msExitFullscreen();
        }
      }
    });

    // Listen for fullscreen changes (e.g., user pressing ESC or swiping up nav)
    document.addEventListener('fullscreenchange', syncFullscreenToggle);
    document.addEventListener('webkitfullscreenchange', syncFullscreenToggle);
    document.addEventListener('msfullscreenchange', syncFullscreenToggle);

    function syncFullscreenToggle() {
      const isFullscreen = !!(document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement);
      fullscreenToggle.checked = isFullscreen;
    }
  </script>
</body>
</html>
